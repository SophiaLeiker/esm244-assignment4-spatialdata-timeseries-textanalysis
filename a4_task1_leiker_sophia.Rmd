---
title: "Assignment 4 - Task 1: Spatial data visualization (interactive map & choropleth)"
author: "Sophia Leiker"
date: "3/6/2022"
output: html_document
---

```{r setup, include=TRUE, warning=FALSE, message=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)

library(spatstat)
library(maptools) 
# library(sp)
library(raster) ### BEFORE tidyverse! b/c select()
library(tidyverse)
library(here)
library(sf)
library(tmap)
library(gstat)
library(stars)
library(janitor)
```

## 1. Introduction

This report will carry out a spatial analysis using `tmap` to create an interactive map showing the location of soil spill events in california using the CA DFW Oil Spill Incident Tracking database. 

This report will also produce the creation of a finalized static choropleth map using `ggplot` in which the fill color for each county depends on the count of inland oil spill events by county for the 2008 oil spill data. 

**Data Source:** The data used for analysis is from the [CA DFW Oil Spill Incident Tracking dataset](https://map.dfg.ca.gov/metadata/ds0394.html). The database system is designed to provide OSPR with quantified statistical data on oil spill response by OSPR field responders. The OSPR Incident Tracking Database System project was initiated to provide OSPR with oil spill incident data for statistical evaluation and justification for program planning, drills and exercise training and development, legislative analysis, budget preparation, to inform and educate the public and analyze OSPR's overall spill preparedness and response performance. An "incident", for purposes of this database, is "a discharge or threatened discharge of petroleum or other deleterious material into the waters of the state."

Data can also be downloaded from the [State of California Geoportal](https://gis.data.ca.gov/datasets/7464e3d6f4924b50ad06e5a553d71086_0/explore?location=37.001352%2C-119.422009%2C6.48&showTable=true)


```{r}
# Reading in the data
oil <- read_csv(here("data", "Oil_Spill_Incident_Tracking_[ds394].csv"))
```


```{r}

# Read in the CA county data (TIGER shapefile):
ca_counties_sf <- read_sf(here("data/ca_counties"), layer = "CA_Counties_TIGER2016") %>% 
  janitor::clean_names() %>% 
  select(name)

# Check the projection
st_crs(ca_counties_sf) 

# Make a quick ggplot:
ggplot() +
  geom_sf(data = ca_counties_sf) +
  geom_sf(data = oil, aes(color = "green"))
```

***

## 2. Data Wrangling 

```{r}

```


***

## X. Data Citation

Data source: [Google Earth Engine](https://earthengine.google.com/) where publicly available remote sensing datasets have been uploaded. Most of the data is derived by calculating the mean for each country at a reduction scale of about 10km.‚Äù 

## END TASK 
